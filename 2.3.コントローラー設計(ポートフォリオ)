controllers/
├── admin/
|   ├── sessions_controller.rb [new, create, destroy]    ---A01
|   ├── homes_controller.rb [top]    ---A02
|   ├── offers_controller.rb [index, show, destroy, destroy_comment]    ---A03
|   ├── users_controller.rb [index, show, edit, update]    ---A04
├── concerns/
│   └── ...
├── application_controller.rb    ---01
└── public/
    ├── homes_controller.rb [top, about]    ---02
    ├── registrations_controller.rb [new, create]    ---03
    ├── sessions_controller.rb [new, create, destroy]    ---04
    ├── users_controller.rb [top, show, edit, update, quit, deactive, offers, applications, deals, favorites, followers, reviews]    ---05
    ├── notificatons_controller.rb [index]    ---06
    ├── relations_controller.rb [create, destroy]    ---07
    ├── locations_controller.rb [index, create, edit, update, destroy]    ---08
    ├── offers_controller.rb [new, create, show, edit, update, index]    ---09
    |── favorites_controller.rb [create, destroy]    ---10
    |── comments_controller.rb [create, destroy, edit, update]    ---11
    |── applications_controller.rb [new, create, thanx, show, destroy, edit, update, index]    ---12
    ├── deals_controller.rb [new, create, show, edit, update, index]    ---13
    ├── chattings_controller.rb [create, destroy]    ---14
    └── reviews_controller.rb [new, create, show, edit, update]    ---15

================================================================================================================================
01
class ApplicationController < ActionController::Base
    before_action :configure_authentication
    before_action :configure_permitted_parameters, if: :devise_controller?

protected

  def configure_authentication
    if admin_controller?
      authenticate_admin!
    else
      authenticate_user! unless public_controller?
    end
  end

  def admin_controller?
    self.class.module_parent_name == 'Admin'
  end

  def public_controller?
    self.class.module_parent_name == 'Public'
  end

  def configure_permitted_parameters
      devise_parameter_sanitizer.permit(:sign_up, keys: [:username, :last_name, :first_name, :introduction])
  end
end
================================================================================================================================





================================================================================================================================
A01
class Admin::SessionsController < Devise::SessionsController
  def after_sign_in_path_for(resource)
    flash[:notice] = "管理者ページにログインしました"
    admin_top_path
  end

  def after_sign_out_path_for(resource)
    flash[:notice] = "管理者ページにログアウトしました"
    new_admin_session_path
  end
end
================================================================================================================================
A02
class Admin::HomesController < ApplicationController
  def top
    @count_offer = Offer.offered_today.count
    @count_user = User.newuser_today.count
    @count_review = Offer.reviewed_today.count
    @total_offer = Offer.all.count
    @total_user = User.all.count
    @total_review = Review.all.count
  end
end
================================================================================================================================
A03
================================================================================================================================
A04
